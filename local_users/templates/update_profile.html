{% extends './base.html' %}
{% load i18n %}
{% block content %}
<section class="row mt-5">
<form class="mt-2 col-md-6 mx-auto shadow p-5" action="{% url 'update_profile' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
    <h1 class="mb-3">Profile Update</h1>
 <section  class="mb-3">
    {% if profile_form.errors %}
    {% for field in profile_form %}
        {% for error in field.errors %}
            <div class="my-2">
                <strong class="text-danger">{{field.name}} field error {{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}
    {% for error in profile_form.non_field_errors %}
        <div class="my-2">
            <strong class="text-danger"> {{field.name}} field error {{ error|escape }}</strong>
        </div>
    {% endfor %}
{% endif %}
  </section>
  <section  class="mb-3">
    {% if user_form.errors %}
    {% for field in user_form %}
        {% for error in field.errors %}
            <div class="my-2">
                <strong class="text-danger">{{field.name}} field error: {{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}
    {% for error in user_form.non_field_errors %}
        <div class="my-2">
            <strong class="text-danger">{{field.name}} field error:{{ error|escape }}</strong>
        </div>
    {% endfor %}
{% endif %}
  </section>
<section>
    <div class="form-group mb-3">
    <label for="user" class="mb-2">User </label>
    {{user_form.username}}
    </div>
  
<div class="mb-3">
  <label for="bio" class="form-label">Bio</label>
{{profile_form.bio}}
</div>

<div class="mb-3">
  <label for="formFile" class="form-label">Image: </label>
  <span >Currently: <a href="{{profile_form.instance.image.url}}">{{profile_form.instance.image}}</a></span>
  {{profile_form.image}}
</div>

<div class="form-group my-3">
    <label for="gender">Gender</label>
    {{user_form.gender}}
  </div>

    <div class="mb-3">
    <label for="phone" class="form-label">Phone Number</label>
    {{user_form.phone_number}}
  </div>

  
</section>
<!-- -->
  <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</section>

{% endblock%}
